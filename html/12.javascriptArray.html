<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascriptArray</title>

    <style>
        table { border-collapse: collapse;}
        tr, td { border: 2px solid orange; padding:5px;}
    </style>
</head>
<body>
    <h1>배열의 생성</h1>

    <script>
        var arrLit = [1, true, "JavaScript"];  //배열의 리터럴을 이용한는 방법
        var arrObj = Array(1, true, "JavaScript");  //Array 객체의 생성자를 이용하는 방법
        var arrNewObj = new Array(1, true, "JavaScript");  //new 연산자를 이용한 Array 객체 생성 방법

        document.write(arrLit + "<br>");
        document.write(arrObj + "<br>");
        document.write(arrNewObj); //위의 세가지 모두 다 같은 결과의 배열을 생성함
    </script>

    <h1>----------------------------------------------------</h1>

    <h1>배열의 참조</h1>

    <script>
        var arr = ["JavaScript"]; // 요소가 하나인 배열 arr을 생성
        var element = arr[0];  // element라는 변수에 배엶의 첫 번째 요소를 할당
        arr[1] = 10; // arr배열의 두 번째 요소에 10을 넣음
        arr[2] = element;  //arr배열의 세 번째 요소에 element변수를 넣음("JavaScript")
        document.write("배열 arr 요소에는 [" + arr + "] 가 있습니다.<br>"); //배열 요소 모두 출력
        document.write("배열 arr의 길이는 " + arr.length + "입니다.<br>"); // 배열 길이 출력
        delete arr[2]; // arr배열의 세번째 요소를 지우지만 길이는 변하지 않음
        document.write("배열 arr 요소에는 [" + arr + "] 가 있습니다.<br>");
        document.write("배열 arr의 길이는 " + arr.length + "입니다.<br>");
    </script>

    <h1>----------------------------------------------------</h1>
    
    <h1>배열 요소의 추가</h1>
    <!-- push()메소드와 length 프로퍼티를 이용한 방법은 모두 배열의 제일 끝에 새로운 요소를 추가한다.-->
    <script>
        var arr = [1, true, "Java"];
        arr.push("Script");  //push() 메소드를 이용하는 방법
        document.write(arr + "<br>");

        arr[arr.length] = 100;
        document.write(arr + "<br>");

        arr[10] = "자바스크립트";
        document.write(arr + "<br>");
        document.write(arr[7]); //배열 요소가 없는 부분을 배열의 홀(hole)이라고한다. 이 배열의 홀에는 undefined값을 가지는 요소로 취급
    </script>

    <h1>----------------------------------------------------</h1>

    <h1> 배열의 순회 </h1>

    <script>
        var arr = [1, true, "JavaScript"];
        var result = "<table><tr>";
        for(var idx in arr) {
            result += "<td>" + arr[idx] + "</td>";
        }
        result += "</tr></table>"

        document.write(result);
    </script>

    <h1>----------------------------------------------------</h1>

    <h1>Array 객체</h1>

    <script>
        var arr = new Array(10, "문자열", false);

        document.write((typeof arr) + "<br>"); // arr은 위에서 new로 객체 생성함
        document.write((typeof arr[0]) + "<br>");
        document.write((typeof arr[1]) + "<br>");
        document.write((typeof arr[2]) + "<br>");
    </script>

    <h1>----------------------------------------------------</h1>

    <h1>희소 배열</h1>

    <script>
        var arr = new Array();  //빈 배열객체 생성
        arr[99] = "JavaScript"; //arr배열의 100번째 위치에 문자열 삽입
        document.write("배열의 길이는 " + arr.length + "입니다. <br>") // 길이는 100으로 늘어남
    </script>

    <h1>----------------------------------------------------</h1>

    <h1>다차원 배열</h1>

    <script>
        var arr = new Array(3);
        for(var row = 0; row < 3; row++) {
            arr[row] = new Array(4);
            for(var column = 0; column < 4; column++){
                arr[row][column] = "[" + row + "," + column + "]";
                document.write(arr[row][column] + " ");
            }
            document.write("<br>");
        }
    </script>

    <h1>----------------------------------------------------</h1>

    <h1>연관 배열</h1>

    <script>
        var arr = [];
        arr["하나"] = 1;
        arr["참"] = true;
        arr["자바스크립트"] = "JavaScript";

        document.write(arr["참"] + "<br>"); // 문자열을 인덱스로 배열 요소에 접근 가능.
        document.write(arr.length + "<br>"); //연관 배열은 Array 객체가 아니라서 legnth의 프로퍼티 값이 0이다.
        document.write(arr[0]); //undefined
    </script>

    <h1>----------------------------------------------------</h1>

    <h1>문자열을 배열처럼 접근하기</h1>

    <script>
        var str = "안녕하세요!";
        document.write(str.charAt(2) + "<br>");
        document.write(str[2]);
    </script>

    <h1>----------------------------------------------------</h1>

    <h1>배열 여부 확인</h1>
    <!-- 자바스크립트에서는 배열이라는 타입을 별도로 제공하지않음(객체 타입이됨)-->
    <script>
        var arr = [1, true, "JavaScript"]; //배열생성
        document.write(typeof arr);
    </script>

    <h1>----------------------------------------------------</h1>

    <h1>Array.isArray() 메소드</h1>
    <!-- ECMAScript5부터 사용할 수 있는 배열 여부 확인 법-->
    <script>
        var arr = [1, true, "JavaScript"];

        document.write(Array.isArray(arr) + "<br>"); //true
        document.write(Array.isArray("문자열"));  //false
    </script>

    <h1>----------------------------------------------------</h1>
    
    <h1>instanceof 연산자</h1>
    <script>
        var arr = [1, true, "JavaScript"]; //배열 생성

        document.write((arr instanceof Array) + "<br>"); //ture
        document.write(123 instanceof Array); //false
    </script>

    <h1>----------------------------------------------------</h1>

    <h1>constructor 프로퍼티</h1>

    <script>
        function isArray(a) {
            return a.constructor.toString().indexOf("Array") > -1;
        }

        var arr = [1, true, "JavaScript"]; //배열 생성

        document.write(arr.constructor + "<br>"); //constructor 프로퍼티의 값 출력
        document.write(arr.constructor.toString() + "<br>"); // function() Array() {[native code]}
        document.write(arr.constructor.toString().indexOf("Array") + "<br>"); //10
        document.write(isArray(arr)); //true

    </script>
</body>
</html>